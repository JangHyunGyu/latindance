<!DOCTYPE html>
<html lang="en">

<head>
    <script>
        if (/KAKAOTALK/i.test(navigator.userAgent) && /Android/i.test(navigator.userAgent)) {
            location.href = 'intent://' + location.href.replace(/https?:\/\//i, '') + '#Intent;scheme=https;package=com.android.chrome;end';
        } else if (/KAKAOTALK/i.test(navigator.userAgent) && /iPhone|iPad|iPod/i.test(navigator.userAgent)) {
            document.addEventListener('DOMContentLoaded', function() {
                var overlay = document.createElement('div');
                overlay.style.position = 'fixed';
                overlay.style.top = '0';
                overlay.style.left = '0';
                overlay.style.width = '100%';
                overlay.style.height = '100%';
                overlay.style.backgroundColor = 'rgba(0, 0, 0, 0.9)';
                overlay.style.zIndex = '9999';
                overlay.style.display = 'flex';
                overlay.style.flexDirection = 'column';
                overlay.style.justifyContent = 'center';
                overlay.style.alignItems = 'center';
                overlay.style.color = 'white';
                overlay.style.textAlign = 'center';
                overlay.style.fontSize = '18px';
                
                var message = document.createElement('p');
                message.innerHTML = 'This page works best in Safari.<br><br>Please tap the <b>[ ¬∑¬∑¬∑ ]</b> button<br>at the bottom right and select<br><b>[Open in Safari]</b>.';
                message.style.marginBottom = '20px';
                message.style.lineHeight = '1.5';
                
                var arrow = document.createElement('div');
                arrow.innerHTML = '‚Üò';
                arrow.style.fontSize = '50px';
                arrow.style.position = 'absolute';
                arrow.style.bottom = '20px';
                arrow.style.right = '20px';
                arrow.style.animation = 'bounce 1s infinite';
                
                var style = document.createElement('style');
                style.innerHTML = '@keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }';
                document.head.appendChild(style);
                
                overlay.appendChild(message);
                overlay.appendChild(arrow);
                document.body.appendChild(overlay);
            });
        }
    </script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
	<title>Latin Dance Video Analysis & Coaching</title>
	<meta name="description" content="Analyze your Salsa and Bachata dance videos with Latin Dance Mate's motion analysis engine for posture correction and feedback." />
	<meta name="keywords" content="latin dance, salsa, bachata, dance analysis, dance coach, posture correction, dance video analysis, latin dance mate, AI dance feedback, salsa steps, bachata moves, virtual dance instructor, dance motion capture" />
	<link rel="canonical" href="https://latindance.kr/analysis-en.html" />
	<link rel="alternate" hreflang="ko" href="https://latindance.kr/analysis.html" />
	<link rel="alternate" hreflang="en" href="https://latindance.kr/analysis-en.html" />
	<link rel="alternate" hreflang="es" href="https://latindance.kr/analysis-es.html" />
	<link rel="alternate" hreflang="x-default" href="https://latindance.kr/analysis-en.html" />
	<meta name="robots" content="index,follow" />
	<meta property="og:type" content="website" />
	<meta property="og:locale" content="en_US" />
	<meta property="og:site_name" content="Latin Dance Mate" />
	<meta property="og:title" content="Latin Dance Video Analysis & Coaching" />
	<meta property="og:description" content="Latin Dance Motion Analysis Engine analyzes your dance video and provides feedback." />
	<meta property="og:url" content="https://latindance.kr/analysis-en.html" />
	<meta property="og:image" content="https://latindance.kr/assets/images/analysis_kakao_profile.png?v=2" />
	<meta name="twitter:card" content="summary_large_image" />
	<meta name="twitter:title" content="Latin Dance Video Analysis & Coaching" />
	<meta name="twitter:description" content="Latin Dance Motion Analysis Engine analyzes your dance video and provides feedback." />
	<meta name="twitter:image" content="https://latindance.kr/assets/images/analysis_kakao_profile.png?v=2" />
    
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="icon" type="image/png" href="favicon.png">
	<link rel="apple-touch-icon" sizes="180x180" href="favicon.png">
	<link
		href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700;800&family=Pretendard:wght@400;500;600;700&display=swap"
		rel="stylesheet">
    <script src="https://t1.kakaocdn.net/kakao_js_sdk/2.7.1/kakao.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script>
        if (typeof marked === 'undefined') {
            document.write('<script src="https://cdnjs.cloudflare.com/ajax/libs/marked/4.3.0/marked.min.js"><\/script>');
        }
    </script>
	<link rel="stylesheet" href="assets/css/style.css?v=103">
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-197LKDJGPJ"></script>
	<script defer src="assets/js/ga.js"></script>
	<script type="text/javascript" src="https://wcs.pstatic.net/wcslog.js"></script>
	<script type="text/javascript">
		if (!window.wcs_add) window.wcs_add = {};
		window.wcs_add["wa"] = "153975124894190";
		if (window.location.protocol !== 'file:' && window.wcs) {
			wcs_do();
		}
	</script>
    
    <link rel="stylesheet" href="assets/css/analysis.css?v=final1">
    <link rel="stylesheet" href="assets/css/analysis-loaders.css">
    <!-- <link rel="stylesheet" href="assets/css/custom-select.css"> -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "SoftwareApplication",
      "name": "Latin Dance Mate Analyzer",
      "operatingSystem": "Web",
      "applicationCategory": "LifestyleApplication",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      },
      "description": "AI-based Latin Dance (Salsa, Bachata) motion analysis and posture correction service"
    }
    </script>
    <link rel="manifest" href="manifest-en.json">
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('service-worker.js');
            });
        }
    </script>
</head>

<body>

	<main class="site-main">
        <div class="home-nav">
            <a href="index-en.html" class="home-btn">
                <span class="home-icon">üè†</span>
                <span class="home-text">HOME</span>
            </a>
        </div>
        <div class="lang-switcher">
            <a href="analysis.html" class="lang-link">KR</a>
            <a href="analysis-en.html" class="lang-link active">EN</a>
            <a href="analysis-es.html" class="lang-link">ES</a>
        </div>
        <div class="analysis-container">
            <h1 class="hero__title">Latin Dance Video Analysis</h1>
            
            <button id="guideBtn" class="guide-btn">
                <span class="guide-icon">‚ÑπÔ∏è</span> User Guide
            </button>

            <div class="options-grid">
                <div>
                    <label class="section-title">Genre</label>
                    <select id="danceGenre">
                        <option value="Salsa">Salsa</option>
                        <option value="Bachata">Bachata</option>
                        <option value="Kizomba">Kizomba</option>
                        <option value="Zouk">Zouk</option>
                    </select>
                </div>
                <div>
                    <label class="section-title">Type</label>
                    <select id="danceType">
                        <option value="Social">Social</option>
                        <option value="Performance">Performance</option>
                    </select>
                </div>
            </div>

            <div class="upload-area" id="dropZone">
                <span class="upload-icon">üìÅ</span>
                <label for="videoInput" class="upload-btn-label">Select Video</label>
                <input type="file" id="videoInput" accept="video/*">
                <p class="upload-hint">or drag and drop video here</p>
                <div id="fileName" class="file-name"></div>
            </div>

            <button id="analyzeBtn" disabled>Analysis & Coaching</button>
            
            <div id="result"></div>
            
            <footer class="site-footer">
                <div class="site-footer__inner">
                    <button id="contactBtn" class="contact-link" onclick="openContactModal()" style="cursor: pointer; font-family: inherit;">
                        <span class="contact-icon">üìû</span> Contact
                    </button>
                    <button id="installBtn" class="contact-link" onclick="installApp()" style="cursor: pointer; font-family: inherit; margin-left: 10px;">
                        <span class="contact-icon">‚¨áÔ∏è</span> Install App
                    </button>
                    <p class="copyright">¬© 2025 ArcherLab. All rights reserved.</p>
                </div>
            </footer>
        </div>
	</main>

    <!-- Contact Modal -->
    <div id="contactModal" class="modal-overlay">
        <div class="modal-container contact-modal-container">
            <div class="modal-header">
                <h3 class="modal-title">Contact Us</h3>
                <button class="modal-close" onclick="closeContactModal()">&times;</button>
            </div>
            <div class="modal-body">
                <div class="contact-options">
                    <a href="https://open.kakao.com/o/pF6xil6h" target="_blank" rel="noopener noreferrer" class="contact-option kakao">
                        <span class="contact-icon">üí¨</span> KakaoTalk Open Chat
                    </a>
                    <a href="mailto:hyungyu@archerlab.dev" class="contact-option email">
                        <span class="contact-icon">üìß</span> Send Email
                    </a>
                </div>
            </div>
        </div>
    </div>

    <script>
        function openContactModal() {
            document.getElementById('contactModal').classList.add('is-open');
        }
        function closeContactModal() {
            document.getElementById('contactModal').classList.remove('is-open');
        }
        document.getElementById('contactModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeContactModal();
            }
        });

        let deferredPrompt;
        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
        });

        function installApp() {
            if (deferredPrompt) {
                deferredPrompt.prompt();
                deferredPrompt.userChoice.then((choiceResult) => {
                    deferredPrompt = null;
                });
            } else if (/iPhone|iPad|iPod/i.test(navigator.userAgent)) {
                var overlay = document.createElement('div');
                overlay.style.cssText = 'position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.9);z-index:10000;display:flex;flex-direction:column;justify-content:center;align-items:center;color:white;text-align:center;';
                
                var msg = document.createElement('p');
                msg.innerHTML = 'Tap the <b>[Share]</b> button below<br>and select <b>[Add to Home Screen]</b>.';
                msg.style.cssText = 'font-size:18px;line-height:1.5;margin-bottom:20px;';
                
                var arrow = document.createElement('div');
                arrow.innerHTML = '‚¨áÔ∏è';
                arrow.style.cssText = 'font-size:40px;animation:bounce 1s infinite;';
                
                var closeBtn = document.createElement('button');
                closeBtn.innerHTML = 'Close';
                closeBtn.style.cssText = 'margin-top:30px;padding:10px 20px;background:white;color:black;border:none;border-radius:5px;font-weight:bold;cursor:pointer;';
                closeBtn.onclick = function() { document.body.removeChild(overlay); };

                var style = document.createElement('style');
                style.innerHTML = '@keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(10px); } }';
                document.head.appendChild(style);

                overlay.appendChild(msg);
                overlay.appendChild(arrow);
                overlay.appendChild(closeBtn);
                document.body.appendChild(overlay);
            } else {
                alert('App is already installed or\nbrowser not supported.');
            }
        }
    </script>

    <!-- Result Modal -->
    <div id="resultModal" class="modal-overlay">
        <div class="modal-container">
            <div class="modal-header">
                <h3 id="modalTitle" class="modal-title">Analysis Result</h3>
                <button id="modalCloseBtn" class="modal-close" onclick="closeModal()">&times;</button>
            </div>
            <div id="modalBody" class="modal-body">
                <!-- Analysis content will be injected here -->
            </div>
            <button id="scrollTopBtn" title="Scroll to Top">‚Üë</button>
            <div id="modalFooter" class="modal-footer">
                <button class="share-btn share-kakao" onclick="shareKakao()" style="margin-right: 10px;">
                    üí¨ Share to Kakao
                </button>
                <button class="share-btn share-copy" onclick="copyResult()">
                    üìã Copy Result
                </button>
            </div>
        </div>
    </div>

    <!-- Guide Modal -->
    <div id="guideModal" class="modal-overlay">
        <div class="modal-container guide-container">
            <div class="modal-header">
                <h3 class="modal-title">User Guide</h3>
                <button id="guideCloseBtn" class="modal-close">&times;</button>
            </div>
            <div class="modal-body guide-body">
                <div class="guide-section">
                    <h4>ü§ñ What is Dance Analysis?</h4>
                    <p>Our advanced motion engine scans your video frame-by-frame to analyze joint movements with precision.</p>
                    <p>It compares your dance with World Class dancers to objectively evaluate <strong>Accuracy, Rhythm, Posture, and Connection</strong>.</p>
                </div>
                
                

                <div class="guide-section">
                    <h4>üèÜ What are Reference Dancers?</h4>
                    <p>We use data from World Champions as the standard. <strong>A perfect score of 10 represents the level of these champions</strong>, and your performance is evaluated relative to this high standard.</p>
                    <h5 class="reference-title">Reference Dancers by Genre</h5>
                    <ul class="reference-list">
                        <li><strong>Salsa</strong>: Terry & Cecile, Fernando Sosa, Adolfo Indacochea, Eddie Torres</li>
                        <li><strong>Bachata</strong>: Daniel & Desiree, Ataca & La Alemana, Marco & Sara, Luis & Andrea</li>
                        <li><strong>Kizomba</strong>: Albir Rojas, Isabelle & Felicien</li>
                        <li><strong>Zouk</strong>: Kadu & Larissa, William & Paloma</li>
                    </ul>

                    <div class="guide-sub-text">
                        <span class="guide-icon">üí°</span>
                        <div class="guide-content">
                            Since you are compared to World Champions, your score might be lower than expected. Don't be disappointed!
                            <strong>A score of 6-7 is considered advanced level for social dancers.</strong>
                        </div>
                    </div>
                </div>

                <div class="guide-section">
                    <h4>üí° How to Use</h4>
                    <ol>
                        <li><strong>Select Genre</strong>: Choose from Salsa, Bachata, Kizomba, Zouk</li>
                        <li><strong>Select Type</strong>: Choose Social (for fun) or Performance (stage)</li>
                        <li><strong>Select Video</strong>: Select or drag & drop the video to analyze</li>
                        <li><strong>Analysis & Coaching</strong>: Click the button to start analysis (takes 1-2 mins)</li>
                    </ol>
                </div>

                <div class="guide-section">
                    <h4>‚ö†Ô∏è Recommendations</h4>
                    <ul>
                        <li>We recommend using a video where the dancer's (or couple's) full body is clearly visible.</li>
                        <li>For Social type, accuracy may decrease if there are many other dancers in the background.</li>
                        <li>Videos that are too dark or shaky may be difficult to analyze.</li>
                        <li>Videos without background music (counting only) may have lower rhythm analysis accuracy.</li>
                        <li>File size must be under 100MB. (Please compress before uploading)</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <script src="assets/js/custom-select.js?v=final5"></script>
    <script src="assets/js/analysis-bg.js"></script>
    <script>
        const ANALYSIS_CONFIG = {
            messages: {
                fileTooLarge: "File is too large ({size} MB).\\nOnly videos under 100MB are allowed.\\n(Please compress before selecting)",
                fileSelected: "Selected File",
                processTitle: "Precision Analysis Process",
                stepInit: "Establishing secure connection and initializing data transfer session...",
                stepUpload: "Transmitting video data to analysis server...",
                uploadWarning: "(High-quality videos may take time to transmit)",
                networkWarning: "(Upload speed may vary depending on network conditions)",
                stepProcessing: "Preprocessing video and optimizing data on cloud server...",
                waitMessage: "Please wait a moment.",
                stepAnalyzing: "Latin Dance Motion Analysis Engine is analyzing joint points and rhythm frame by frame...",
                analyzeTimeWarning: "(May take up to 1-2 minutes)",
                resultTitle: "Precision Analysis Result",
                errorTitle: "Error Occurred",
                resultError: "Failed to retrieve analysis results.",
                shareTitle: "Latin Dance Video Precision Analysis",
                shareDesc: "Motion Analysis Engine analyzes your Latin dance video. Try it now!",
                shareBtn: "View Analysis Result",
                copyNoResult: "No analysis result to copy.",
                copySuccess: "Analysis result copied to clipboard!",
                copyFail: "Failed to copy result.",
                loadingShared: "Loading shared analysis result...",
                resultTitleShared: "Precision Analysis Result (Shared)",
                loadSharedFail: "Shared result not found or expired."
            },
            generatePrompt: function(genre, type) {
                const overallScorePrompt = `- **Overall Score**: (Average of above items. e.g., "6.5". *Grade Criteria for reference: 10(World Class), 9(Top Pro), 8(Pro Instructor), 7(Semi-Pro/Performance Team), 6(Advanced Social), 5(High-Intermediate Social), 4(Intermediate Social), 3(Low-Intermediate Social), 2(Beginner), 1(Novice)*)`;
                const onePointLessonPrompt = `- **One Point Lesson**:\n                        - (Most urgent correction and practice method)`;

                let referenceDancers = "World Champion level dancers";
                let genreFocus = "Accuracy of movement, rhythm, connection with partner, posture, etc.";
                let analysisFormat = `
                    1. **Overall Review**: Dance style, energy, overall impression
                    2. **Leader Analysis**:
                    - **Pros**: (Specific details based on detailed rating items below)
                    - **Cons & Improvements**: (Specific details based on detailed rating items below)
                    - **Detailed Scores**:
                        - **Basic & Rhythm**: (0~10, one decimal place, accuracy)
                        - **Connection & Leading**: (0~10, one decimal place, smoothness)
                        - **Body Movement**: (0~10, one decimal place, flexibility)
                        - **Musicality**: (0~10, one decimal place, musical interpretation)
                        - **Partnership**: (0~10, one decimal place, care)
                    ${overallScorePrompt}
                    ${onePointLessonPrompt}
                    3. **Follower Analysis**:
                    - **Pros**: (Specific details based on detailed rating items below)
                    - **Cons & Improvements**: (Specific details based on detailed rating items below)
                    - **Detailed Scores**:
                        - **Basic & Rhythm**: (0~10, one decimal place, accuracy)
                        - **Connection & Following**: (0~10, one decimal place, responsiveness)
                        - **Body Movement**: (0~10, one decimal place, flexibility)
                        - **Musicality**: (0~10, one decimal place, musical interpretation)
                        - **Styling**: (0~10, one decimal place, expressiveness)
                    ${overallScorePrompt}
                    ${onePointLessonPrompt}`;

                if (genre === "Salsa") {
                    referenceDancers = "Terry & Cecile, Fernando Sosa, Adolfo Indacochea, Eddie Torres";
                    if (type === "Performance") {
                        genreFocus = "This is a Salsa Performance. Focus on **high-difficulty turn patterns based on 'Clave Rhythm', flashy Footwork (Shines), and Lifts**. Analyze showmanship, individual styling, and razor-sharp synchronization. Warning: Simply listing social dance moves is not a performance. Apply much stricter standards than social dance to evaluate if it meets world-class composition, choreography, and technique. Especially for **Lifts and Acrobatics**, strictly lower the score if **perfect stability and landing** are not achieved.";
                        analysisFormat = `
                    1. **Overall Review**: Concept, Choreography, Stage Presence
                    2. **Leader Performance Analysis**:
                    - **Pros**: (Specific details based on detailed rating items below)
                    - **Cons & Improvements**: (Specific details based on detailed rating items below)
                    - **Detailed Scores**:
                        - **Choreography Mastery & Accuracy**: (0~10, one decimal place, mistake-free execution)
                        - **Technique (Turn/Spin)**: (0~10, one decimal place, axis maintenance & speed)
                        - **Footwork & Shines**: (0~10, one decimal place, fast & accurate steps)
                        - **Partner Support & Lifts**: (0~10, one decimal place, stability)
                        - **Line & Posture**: (0~10, one decimal place, body extension)
                        - **Showmanship & Styling**: (0~10, one decimal place, audience engagement)
                        - **Synchronization**: (0~10, one decimal place, matching with partner)
                    ${overallScorePrompt}
                    ${onePointLessonPrompt}
                    3. **Follower Performance Analysis**:
                    - **Pros**: (Specific details based on detailed rating items below)
                    - **Cons & Improvements**: (Specific details based on detailed rating items below)
                    - **Detailed Scores**:
                        - **Choreography Mastery & Accuracy**: (0~10, one decimal place, mistake-free execution)
                        - **Technique (Turn/Spin/Flexibility)**: (0~10, one decimal place, axis maintenance & flexibility)
                        - **Footwork & Shines**: (0~10, one decimal place, fast & accurate steps)
                        - **Line & Posture**: (0~10, one decimal place, fingertips/toes)
                        - **Showmanship & Styling**: (0~10, one decimal place, audience engagement)
                        - **Musicality (Choreography Execution)**: (0~10, one decimal place, expression of musical accents)
                        - **Synchronization**: (0~10, one decimal place, matching with partner)
                    ${overallScorePrompt}
                    ${onePointLessonPrompt}`;
                    } else {
                        genreFocus = "Salsa is all about **'Clave Rhythm' based accurate steps and timing**. From a Social Dance perspective, please focus on comfortable leading/following, safety, and enjoyment.";
                        analysisFormat = `
                    1. **Overall Review**: Salsa energy, Clave rhythm, Partnership
                    2. **Leader Analysis**:
                    - **Pros**: (Specific details based on detailed rating items below)
                    - **Cons & Improvements**: (Specific details based on detailed rating items below)
                    - **Detailed Scores**:
                        - **Timing**: (0~10, one decimal place, adherence to Clave rhythm)
                        - **Leading & Signals**: (0~10, one decimal place, clarity & tension)
                        - **Basic & Steps**: (0~10, one decimal place, stability)
                        - **Pattern Flow**: (0~10, one decimal place, natural flow)
                        - **Musicality**: (0~10, one decimal place, interpretation)
                        - **Partnership & Manner**: (0~10, one decimal place, eye contact & care)
                        - **Floorcraft**: (0~10, one decimal place, collision prevention & space usage)
                    ${overallScorePrompt}
                    ${onePointLessonPrompt}
                    3. **Follower Analysis**:
                    - **Pros**: (Specific details based on detailed rating items below)
                    - **Cons & Improvements**: (Specific details based on detailed rating items below)
                    - **Detailed Scores**:
                        - **Timing**: (0~10, one decimal place, maintaining beat)
                        - **Following & Tension**: (0~10, one decimal place, reaction speed & connection)
                        - **Basic & Steps**: (0~10, one decimal place, stability)
                        - **Posture & Balance**: (0~10, one decimal place, turn stability)
                        - **Partnership & Interaction**: (0~10, one decimal place, enjoyment & eye contact)
                        - **Floorcraft**: (0~10, one decimal place, collision prevention & space usage)
                    ${overallScorePrompt}
                    ${onePointLessonPrompt}`;
                    }
                }
                else if (genre === "Bachata") {
                    referenceDancers = "Daniel & Desiree, Ataca & La Alemana, Marco & Sara, Luis & Andrea";
                    if (type === "Performance") {
                        genreFocus = "This is a Bachata Performance. Focus on **'Sensual Body Movement', 'Individual Styling', and 'Dramatic Musicality'**. Analyze emotional expression, flexibility, and the perfection of high-difficulty Dips and Tricks. Warning: Simply listing social dance moves is not a performance. Apply much stricter standards than social dance to evaluate if it meets world-class composition, choreography, and technique. **Tricks and Lifts** will be penalized if **safety and connection** are not perfect.";
                        analysisFormat = `
                    1. **Overall Review**: Concept, Choreography, Stage Presence
                    2. **Leader Performance Analysis**:
                    - **Pros**: (Specific details based on detailed rating items below)
                    - **Cons & Improvements**: (Specific details based on detailed rating items below)
                    - **Detailed Scores**:
                        - **Choreography Mastery**: (0~10, one decimal place, no interruption in flow)
                        - **Technique (Body Movement/Isolation)**: (0~10, one decimal place, flexibility & range of motion)
                        - **Partner Support & Tricks**: (0~10, one decimal place, stability)
                        - **Line & Posture**: (0~10, one decimal place, body extension)
                        - **Showmanship & Styling**: (0~10, one decimal place, emotional delivery)
                        - **Musicality (Choreography Execution)**: (0~10, one decimal place, expression of lyrics & beat)
                        - **Transitions**: (0~10, one decimal place, smoothness of movement connection)
                    ${overallScorePrompt}
                    ${onePointLessonPrompt}
                    3. **Follower Performance Analysis**:
                    - **Pros**: (Specific details based on detailed rating items below)
                    - **Cons & Improvements**: (Specific details based on detailed rating items below)
                    - **Detailed Scores**:
                        - **Choreography Mastery**: (0~10, one decimal place, no interruption in flow)
                        - **Technique (Body Movement/Flexibility)**: (0~10, one decimal place, flexibility & range of motion)
                        - **Line & Posture**: (0~10, one decimal place, fingertips/toes)
                        - **Balance & Core**: (0~10, one decimal place, weight transfer)
                        - **Showmanship & Styling**: (0~10, one decimal place, emotional delivery)
                        - **Musicality (Choreography Execution)**: (0~10, one decimal place, expression of lyrics & beat)
                        - **Transitions**: (0~10, one decimal place, smoothness of movement connection)
                    ${overallScorePrompt}
                    ${onePointLessonPrompt}`;
                    } else {
                        genreFocus = "Bachata emphasizes **'Sensual Body Movement' and 'Cuban Motion'**. In Social Dance, proper distance, safe leading, and emotional connection are key.";
                        analysisFormat = `
                    1. **Overall Review**: Sensual feel, Musicality, Connection quality
                    2. **Leader Analysis**:
                    - **Pros**: (Specific details based on detailed rating items below)
                    - **Cons & Improvements**: (Specific details based on detailed rating items below)
                    - **Detailed Scores**:
                        - **Basic & Rhythm**: (0~10, one decimal place, on-beat/off-beat)
                        - **Frame & Posture**: (0~10, one decimal place, stable holding)
                        - **Leading & Connection**: (0~10, one decimal place, smoothness & signals)
                        - **Body Movement**: (0~10, one decimal place, wave/isolation)
                        - **Musicality**: (0~10, one decimal place, emotional expression & breaks)
                        - **Partnership & Safety**: (0~10, one decimal place, distance & safety)
                        - **Distance Control**: (0~10, one decimal place, appropriateness of position switching)
                    ${overallScorePrompt}
                    ${onePointLessonPrompt}
                    3. **Follower Analysis**:
                    - **Pros**: (Specific details based on detailed rating items below)
                    - **Cons & Improvements**: (Specific details based on detailed rating items below)
                    - **Detailed Scores**:
                        - **Basic & Rhythm**: (0~10, one decimal place, step accuracy)
                        - **Frame & Connection**: (0~10, one decimal place, tension maintenance)
                        - **Following**: (0~10, one decimal place, lead receptivity & reaction)
                        - **Body Movement**: (0~10, one decimal place, flexibility & hip)
                        - **Partnership & Chemistry**: (0~10, one decimal place, sharing emotions)
                        - **Distance Control**: (0~10, one decimal place, appropriateness of position switching)
                    ${overallScorePrompt}
                    ${onePointLessonPrompt}`;
                    }
                }
                else if (genre === "Kizomba") {
                    referenceDancers = "Albir Rojas, Isabelle & Felicien";
                    if (type === "Performance") {
                        genreFocus = "This is a Kizomba Performance. **'Dissociation' and 'Fancy Footwork'** are important. Focus on intensity within restrained movement, perfect oneness with partner, and musicality expressing micro-beats. Warning: Simply listing social dance moves is NOT a performance. Apply much stricter standards than social dance. Evaluate strictly based on World Class composition, choreography, and technique.";
                        analysisFormat = `
                    1. **Overall Review**: Concept, Choreography, Stage Presence
                    2. **Leader Performance Analysis**:
                    - **Pros**: (Specific details based on detailed rating items below)
                    - **Cons & Improvements**: (Specific details based on detailed rating items below)
                    - **Detailed Scores**:
                        - **Choreography Mastery**: (0~10, one decimal place, perfect unison)
                        - **Technique (Dissociation)**: (0~10, one decimal place, upper/lower body separation)
                        - **Footwork**: (0~10, one decimal place, Saidas & Syncopation)
                        - **Partner Support & Leading**: (0~10, one decimal place, stability)
                        - **Line & Posture**: (0~10, one decimal place, body extension)
                        - **Showmanship & Atmosphere**: (0~10, one decimal place, immersion)
                        - **Musicality (Beat Splitting)**: (0~10, one decimal place, micro-beat expression)
                        - **Stillness**: (0~10, one decimal place, unshakable core)
                    ${overallScorePrompt}
                    ${onePointLessonPrompt}
                    3. **Follower Performance Analysis**:
                    - **Pros**: (Specific details based on detailed rating items below)
                    - **Cons & Improvements**: (Specific details based on detailed rating items below)
                    - **Detailed Scores**:
                        - **Choreography Mastery**: (0~10, one decimal place, perfect unison)
                        - **Technique (Ginga/Dissociation)**: (0~10, one decimal place, upper/lower body separation)
                        - **Footwork**: (0~10, one decimal place, Saidas & Syncopation)
                        - **Line & Posture**: (0~10, one decimal place, fingertips/toes)
                        - **Balance & Core**: (0~10, one decimal place, weight transfer)
                        - **Showmanship & Atmosphere**: (0~10, one decimal place, immersion)
                        - **Musicality (Beat Splitting)**: (0~10, one decimal place, micro-beat expression)
                        - **Stillness**: (0~10, one decimal place, unwavering core)
                    ${overallScorePrompt}
                    ${onePointLessonPrompt}`;
                    } else {
                        genreFocus = "Kizomba is about **'Grounding' and 'Smooth Weight Transfer'**. In Social Dance, comfortable Embrace, adjusting steps to partner, and oneness in music are important.";
                        analysisFormat = `
                    1. **Overall Review**: Grounding, Connection density, Oneness with music
                    2. **Leader Analysis**:
                    - **Pros**: (Specific details based on detailed rating items below)
                    - **Cons & Improvements**: (Specific details based on detailed rating items below)
                    - **Detailed Scores**:
                        - **Grounding & Steps**: (0~10, one decimal place, floor support)
                        - **Connection & Holding**: (0~10, one decimal place, upper body closeness & comfort)
                        - **Leading**: (0~10, one decimal place, clear weight transfer)
                        - **Musicality**: (0~10, one decimal place, beat splitting & stillness)
                        - **Dissociation**: (0~10, one decimal place, upper/lower body separation)
                        - **Partnership & Care**: (0~10, one decimal place, matching partner's step size)
                        - **Step Size Control**: (0~10, one decimal place, partner-adapted steps)
                    ${overallScorePrompt}
                    ${onePointLessonPrompt}
                    3. **Follower Analysis**:
                    - **Pros**: (Specific details based on detailed rating items below)
                    - **Cons & Improvements**: (Specific details based on detailed rating items below)
                    - **Detailed Scores**:
                        - **Grounding & Steps**: (0~10, one decimal place, stability)
                        - **Connection & Holding**: (0~10, one decimal place, weight control)
                        - **Following**: (0~10, one decimal place, sensing subtle weight transfers)
                        - **Ginga & Movement**: (0~10, one decimal place, hip movement)
                        - **Musicality**: (0~10, one decimal place, riding the music)
                        - **Partnership & Trust**: (0~10, one decimal place, surrendering to leader)
                        - **Step Size Control**: (0~10, one decimal place, partner-adjusted steps)
                    ${overallScorePrompt}
                    ${onePointLessonPrompt}`;
                    }
                }
                else if (genre === "Zouk") {
                    referenceDancers = "Kadu & Larissa, William & Paloma";
                    if (type === "Performance") {
                        genreFocus = "This is a Zouk Performance. Focus on **'Head Movement', 'Individual Styling', and 'Dynamic Flow'**. Analyze dramatic lines, counter-balance, lifts, and storytelling expressing the music's structure. Warning: Simply listing social dance moves is not a performance. Apply much stricter standards than social dance to evaluate if it meets world-class composition, choreography, and technique. Evaluate **Lifts and Acrobatics** strictly if there is any lack of **stability**.";
                        analysisFormat = `
                    1. **Overall Review**: Concept, Choreography, Stage Presence
                    2. **Leader Performance Analysis**:
                    - **Pros**: (Specific details based on detailed rating items below)
                    - **Cons & Improvements**: (Specific details based on detailed rating items below)
                    - **Detailed Scores**:
                        - **Choreography Mastery & Accuracy**: (0~10, one decimal place, storytelling)
                        - **Technique (Head Leading/Counter Balance)**: (0~10, one decimal place, safe & large movements)
                        - **Partner Support & Lifts**: (0~10, one decimal place, stability)
                        - **Line & Posture**: (0~10, one decimal place, body extension)
                        - **Showmanship & Styling**: (0~10, one decimal place, hair movement & lines)
                        - **Musicality (Dynamic)**: (0~10, one decimal place, narrative arc)
                        - **Fluidity**: (0~10, one decimal place, uninterrupted flow)
                    ${overallScorePrompt}
                    ${onePointLessonPrompt}
                    3. **Follower Performance Analysis**:
                    - **Pros**: (Specific details based on detailed rating items below)
                    - **Cons & Improvements**: (Specific details based on detailed rating items below)
                    - **Detailed Scores**:
                        - **Choreography Mastery & Accuracy**: (0~10, one decimal place, storytelling)
                        - **Technique (Head Movement/Counter Balance)**: (0~10, one decimal place, safe & large movements)
                        - **Partner Support & Lifts**: (0~10, one decimal place, stability)
                        - **Line & Posture**: (0~10, one decimal place, body extension)
                        - **Showmanship & Styling**: (0~10, one decimal place, hair movement & lines)
                        - **Musicality (Dynamic)**: (0~10, one decimal place, narrative arc)
                        - **Fluidity**: (0~10, one decimal place, uninterrupted flow)
                    ${overallScorePrompt}
                    ${onePointLessonPrompt}`;
                    } else {
                        genreFocus = "Zouk features **'Head Movement' and 'Flow'**. In Social Dance, safe leading protecting the partner's neck/back during head movement and continuous water-like connection are priorities.";
                        analysisFormat = `
                    1. **Overall Review**: Zouk Flow, Natural Head Movement, Dynamics
                    2. **Leader Analysis**:
                    - **Pros**: (Specific details based on detailed rating items below)
                    - **Cons & Improvements**: (Specific details based on detailed rating items below)
                    - **Detailed Scores**:
                        - **Basic & Rhythm**: (0~10, one decimal place, steps)
                        - **Connection & Frame**: (0~10, one decimal place, elasticity)
                        - **Leading & Flow**: (0~10, one decimal place, connection & smoothness)
                        - **Head Movement Leading**: (0~10, one decimal place, safe guide)
                        - **Dynamics**: (0~10, one decimal place, intensity control)
                        - **Partnership & Safety**: (0~10, one decimal place, partner protection & space usage)
                        - **Grounding**: (0~10, one decimal place, lower body support)
                    ${overallScorePrompt}
                    ${onePointLessonPrompt}
                    3. **Follower Analysis**:
                    - **Pros**: (Specific details based on detailed rating items below)
                    - **Cons & Improvements**: (Specific details based on detailed rating items below)
                    - **Detailed Scores**:
                        - **Basic & Rhythm**: (0~10, one decimal place, steps)
                        - **Connection & Axis**: (0~10, one decimal place, maintaining balance)
                        - **Following**: (0~10, one decimal place, waiting for lead & reaction)
                        - **Head Movement Tech**: (0~10, one decimal place, neck/waist usage)
                        - **Flexibility & Isolation**: (0~10, one decimal place, range of motion)
                        - **Partnership & Breath**: (0~10, one decimal place, energy exchange)
                        - **Grounding**: (0~10, one decimal place, lower body support)
                    ${overallScorePrompt}
                    ${onePointLessonPrompt}`;
                    }
                }

                return `
                    [SYSTEM INSTRUCTION: STRICTLY ENGLISH OUTPUT ONLY]
                    1. **Language**: Output MUST be in **English** only.
                    2. **Format**: Start the response IMMEDIATELY with "1. **Overall Review**:". Do not add any introductory text.
                    3. **Identity**: Do not refer to yourself as "AI" or "Artificial Intelligence".
                    4. **Mechanical Analysis**: Exclude all creativity. Analyze only the technical elements of the video mechanically to derive the same result every time.

                    You are a professional Latin Dance (Salsa, Bachata, Kizomba, Zouk, etc.) analyst.

                    [IMPORTANT] First, verify if this is a dance video.
                    If the video is completely unrelated to dance (e.g., landscape, food, document, static screen, news, etc.), 
                    DO NOT analyze and ONLY output the following sentence and exit:
                    "Sorry, this does not appear to be a dance video. Please upload a dance video for precise analysis."

                    Conversely, if it is a dance video, please strictly follow the instructions below.

                    [IMPORTANT: Full Video Analysis Required]
                    Do not just watch the beginning of the video. **You MUST analyze the entire video from start to finish.**
                    Ensure that timestamps are not concentrated only in the beginning, but also cover the middle and end of the video, pointing out movements or mistakes throughout.

                    [IMPORTANT 2: Check Number of Dancers & Format Change]
                    If it is a dance video, check the number of dancers. If it is a solo (1 person) dance from start to finish, process 'Partnership', 'Connection', 'Leading/Following' items in the format below as 'N/A (Solo)' or exclude them, and flexibly change the analysis format to focus on **Individual Technique, Footwork, Body Movement, and Musicality**.

                    If it is a dance video, this is a ${genre || "Latin Dance"} ${type || "video"}.
                    Please analyze the unique characteristics of this video with an expert's eye.

                    [Criteria for 10-point Scale]
                    10 points represents the level of World Champions in this genre (${referenceDancers}).
                    Based on the data of these champions' **Posture, Connection, Musicality, and Movement Accuracy**, 
                    please evaluate relatively how close the dancers in the uploaded video are to this 'World Class' standard.
                    **Consistency Mandatory**: For the same video, you MUST assign the exact same score without even 0.1 point error. Exclude creativity and score mechanically.
                    **[Evaluation Criteria: Prioritize 'Execution Quality' over Difficulty]**
                    **WARNING: Do NOT give high scores simply for including many flashy moves, like a karaoke machine score.**
                    Even if difficult moves are attempted, if the posture or timing is inaccurate, they MUST score **significantly lower** than perfectly executed basic moves.
                    Evaluate the 'Quality of Movement', not the 'Quantity of Moves'.
                    In particular, if posture or timing fails during large, flashy moves, apply a heavier penalty than for mistakes in basic moves.

                    **[Score Distribution Warning]**
                    Do not hesitate to give low scores (1-4) to beginner or novice dancers.
                    5 points represents an 'Intermediate-Advanced' level, which should only be given to dancers with significant experience and skill.
                    Prevent score inflation and provide a cold, objective evaluation.

                    [Mandatory Analysis Requirements]
                    1. **Use Timestamps**: When providing specific feedback, you MUST specify the time in the video where the action occurs (e.g., [01:15]) to provide evidence.
                    2. **Visual Evidence Based**: Analyze based on visual evidence visible in the video, such as 'frame collapse', 'rhythm delay', 'unstable landing', rather than 'feeling'.
                    3. **Cold Scoring**: The goal is cold analysis for skill improvement, not praise to make the user feel good. If they do not meet the criteria (Reference Dancers), give a low score boldly.
                    4. **Handling Unanalyzable Environments**:
                            If Footwork is out of frame: State 'Lower body analysis impossible' and exclude score.
                            If video is too dark or blurry: Output 'Image quality improvement needed' message.
                            If filmed from a specific angle other than the front: State the limitations of analysis at the beginning.
                    5. **Audio & Rhythm Analysis Priority**:
                        Step 1: Check audio status. Check if the music is clearly audible.
                        Step 2 (Good): If music is audible, strictly point out with timestamps if the dancer's steps are exactly on-beat, lagging, or rushing.
                        Step 3 (Poor): If there is severe noise or music is inaudible, do NOT force evaluation of Rhythm/Musicality items, but process as 'N/A (Audio unreadable)'. However, Flow of movement must be evaluated.
                    6. **Exception Notification**: If analysis of specific body parts is impossible due to video quality (lighting, angle, resolution, etc.), do not guess but process the item as 'Judgment Withheld' and recommend shooting improvement to the user.
                    
                    [Output Format Requirements]
                    You MUST follow the format below exactly. Do not add any introductory text or greetings. Start directly with "1. **Overall Review**:".
                    Use Markdown formatting to improve readability.
                    
                    ${analysisFormat}
                    
                    [Focus Points for ${genre}]:
                    ${genreFocus}
                    `.trim();
            }
        };
    </script>
    <script src="assets/js/analysis.js"></script>
</body>
</html>