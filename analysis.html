<!DOCTYPE html>
<html lang="ko">

<head>
    <script>
        if (/KAKAOTALK/i.test(navigator.userAgent) && /Android/i.test(navigator.userAgent)) {
            location.href = 'intent://' + location.href.replace(/https?:\/\//i, '') + '#Intent;scheme=https;package=com.android.chrome;end';
        } else if (/KAKAOTALK/i.test(navigator.userAgent) && /iPhone|iPad|iPod/i.test(navigator.userAgent)) {
            document.addEventListener('DOMContentLoaded', function() {
                var overlay = document.createElement('div');
                overlay.style.position = 'fixed';
                overlay.style.top = '0';
                overlay.style.left = '0';
                overlay.style.width = '100%';
                overlay.style.height = '100%';
                overlay.style.backgroundColor = 'rgba(0, 0, 0, 0.9)';
                overlay.style.zIndex = '9999';
                overlay.style.display = 'flex';
                overlay.style.flexDirection = 'column';
                overlay.style.justifyContent = 'center';
                overlay.style.alignItems = 'center';
                overlay.style.color = 'white';
                overlay.style.textAlign = 'center';
                overlay.style.fontSize = '18px';
                
                var message = document.createElement('p');
                message.innerHTML = '이 페이지는 Safari 브라우저에서<br>정상적으로 작동합니다.<br><br>우측 하단의 <b>[ ··· ]</b> 버튼을 누르고<br><b>[Safari로 열기]</b>를 선택해주세요.';
                message.style.marginBottom = '20px';
                message.style.lineHeight = '1.5';
                
                var arrow = document.createElement('div');
                arrow.innerHTML = '↘';
                arrow.style.fontSize = '50px';
                arrow.style.position = 'absolute';
                arrow.style.bottom = '20px';
                arrow.style.right = '20px';
                arrow.style.animation = 'bounce 1s infinite';
                
                var style = document.createElement('style');
                style.innerHTML = '@keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }';
                document.head.appendChild(style);
                
                overlay.appendChild(message);
                overlay.appendChild(arrow);
                document.body.appendChild(overlay);
            });
        }
    </script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
	<title>라틴댄스 영상 분석 & 코칭</title>
	<meta name="description" content="라틴댄스 모션 분석 엔진이 당신의 댄스 영상을 분석하여 코칭 및 피드백을 제공합니다." />
	<link rel="canonical" href="https://latindance.kr/analysis.html" />
	<link rel="alternate" hreflang="ko" href="https://latindance.kr/analysis.html" />
	<link rel="alternate" hreflang="en" href="https://latindance.kr/analysis-en.html" />
	<link rel="alternate" hreflang="es" href="https://latindance.kr/analysis-es.html" />
	<link rel="alternate" hreflang="x-default" href="https://latindance.kr/analysis-en.html" />
	<meta name="keywords" content="라틴댄스, 살사, 바차타, 댄스 영상 분석, AI 댄스 코칭, 자세 교정, 춤 영상 분석, 라틴댄스 메이트, 살사 베이직, 바차타 웨이브, 춤선 교정, 댄스 피드백, 춤 독학, AI 댄스 트레이너" />
	<meta name="robots" content="index,follow" />
	<meta property="og:type" content="website" />
	<meta property="og:locale" content="ko_KR" />
	<meta property="og:site_name" content="라틴댄스 메이트" />
	<meta property="og:title" content="라틴댄스 영상 분석 & 코칭" />
	<meta property="og:description" content="라틴댄스 모션 분석 엔진이 당신의 댄스 영상을 분석하여 피드백을 제공합니다." />
	<meta property="og:url" content="https://latindance.kr/analysis.html" />
	<meta property="og:image" content="https://latindance.kr/assets/images/analysis_kakao_profile.png?v=2" />
	<meta name="twitter:card" content="summary_large_image" />
	<meta name="twitter:title" content="라틴댄스 영상 분석 & 코칭" />
	<meta name="twitter:description" content="라틴댄스 모션 분석 엔진이 당신의 댄스 영상을 분석하여 피드백을 제공합니다." />
	<meta name="twitter:image" content="https://latindance.kr/assets/images/analysis_kakao_profile.png?v=2" />
	
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="icon" type="image/png" href="favicon.png">
	<link rel="apple-touch-icon" sizes="180x180" href="favicon.png">
	<link
		href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700;800&family=Pretendard:wght@400;500;600;700&display=swap"
		rel="stylesheet">
    <script src="https://t1.kakaocdn.net/kakao_js_sdk/2.7.1/kakao.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script>
        if (typeof marked === 'undefined') {
            document.write('<script src="https://cdnjs.cloudflare.com/ajax/libs/marked/4.3.0/marked.min.js"><\/script>');
        }
    </script>
	<link rel="stylesheet" href="assets/css/style.css?v=103">
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-197LKDJGPJ"></script>
	<script defer src="assets/js/ga.js"></script>
	<script type="text/javascript" src="https://wcs.pstatic.net/wcslog.js"></script>
	<script type="text/javascript">
		if (!window.wcs_add) window.wcs_add = {};
		window.wcs_add["wa"] = "153975124894190";
		if (window.location.protocol !== 'file:' && window.wcs) {
			wcs_do();
		}
	</script>
    
    <link rel="stylesheet" href="assets/css/analysis.css?v=final1">
    <link rel="stylesheet" href="assets/css/analysis-loaders.css">
    <!-- <link rel="stylesheet" href="assets/css/custom-select.css"> -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "SoftwareApplication",
      "name": "라틴댄스 메이트 분석기",
      "operatingSystem": "Web",
      "applicationCategory": "LifestyleApplication",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "KRW"
      },
      "description": "AI 기반 라틴댄스(살사, 바차타) 모션 분석 및 자세 교정 서비스"
    }
    </script>
    <link rel="manifest" href="manifest.json">
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('service-worker.js');
            });
        }
    </script>
</head>

<body>

	<main class="site-main">
        <div class="home-nav">
            <a href="index.html" class="home-btn">
                <span class="home-icon">🏠</span>
                <span class="home-text">HOME</span>
            </a>
        </div>
        <div class="lang-switcher">
            <a href="analysis.html" class="lang-link active">KR</a>
            <a href="analysis-en.html" class="lang-link">EN</a>
            <a href="analysis-es.html" class="lang-link">ES</a>
        </div>
        <div class="analysis-container">
            <h1 class="hero__title">라틴댄스 영상 분석</h1>
            
            <button id="guideBtn" class="guide-btn">
                <span class="guide-icon">ℹ️</span> 이용 안내
            </button>

            <div class="options-grid">
                <div>
                    <label class="section-title">장르</label>
                    <select id="danceGenre">
                        <option value="Salsa">살사</option>
                        <option value="Bachata">바차타</option>
                        <option value="Kizomba">키좀바</option>
                        <option value="Zouk">주크</option>
                    </select>
                </div>
                <div>
                    <label class="section-title">유형</label>
                    <select id="danceType">
                        <option value="Social">소셜</option>
                        <option value="Performance">공연</option>
                    </select>
                </div>
            </div>

            <div class="upload-area" id="dropZone">
                <span class="upload-icon">📁</span>
                <label for="videoInput" class="upload-btn-label">영상 선택하기</label>
                <input type="file" id="videoInput" accept="video/*">
                <p class="upload-hint">또는 영상을 여기로 드래그하세요</p>
                <div id="fileName" class="file-name"></div>
            </div>

            <button id="analyzeBtn" disabled>분석 & 코칭</button>
            
            <!-- Loading div removed, moved to modal -->
            
            <div id="result"></div>

            <footer class="site-footer">
                <div class="site-footer__inner">
                    <button id="contactBtn" class="contact-link" onclick="openContactModal()" style="cursor: pointer; font-family: inherit;">
                        <span class="contact-icon">📞</span> 문의하기
                    </button>
                    <p class="copyright">© 2025 ArcherLab. All rights reserved.</p>
                </div>
            </footer>
        </div>
	</main>

    <!-- Contact Modal -->
    <div id="contactModal" class="modal-overlay">
        <div class="modal-container contact-modal-container">
            <div class="modal-header">
                <h3 class="modal-title">문의하기</h3>
                <button class="modal-close" onclick="closeContactModal()">&times;</button>
            </div>
            <div class="modal-body">
                <div class="contact-options">
                    <a href="https://open.kakao.com/o/pF6xil6h" target="_blank" rel="noopener noreferrer" class="contact-option kakao">
                        <span class="contact-icon">💬</span> 카카오톡 오픈채팅
                    </a>
                    <a href="mailto:hyungyu@archerlab.dev" class="contact-option email">
                        <span class="contact-icon">📧</span> 이메일 보내기
                    </a>
                </div>
            </div>
        </div>
    </div>

    <script>
        function openContactModal() {
            document.getElementById('contactModal').classList.add('is-open');
        }
        function closeContactModal() {
            document.getElementById('contactModal').classList.remove('is-open');
        }
        document.getElementById('contactModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeContactModal();
            }
        });
    </script>

    <!-- Result Modal -->
    <div id="resultModal" class="modal-overlay">
        <div class="modal-container">
            <div class="modal-header">
                <h3 id="modalTitle" class="modal-title">정밀 분석 결과</h3>
                <button id="modalCloseBtn" class="modal-close" onclick="closeModal()">&times;</button>
            </div>
            <div id="modalBody" class="modal-body">
                <!-- Analysis content will be injected here -->
            </div>
            <button id="scrollTopBtn" title="맨 위로">↑</button>
            <div id="modalFooter" class="modal-footer">
                <button class="share-btn share-kakao" onclick="shareKakao()" style="margin-right: 10px;">
                    💬 카카오톡 공유
                </button>
                <button class="share-btn share-copy" onclick="copyResult()">
                    📋 결과 복사
                </button>
            </div>
        </div>
    </div>

    <!-- Guide Modal -->
    <div id="guideModal" class="modal-overlay">
        <div class="modal-container guide-container">
            <div class="modal-header">
                <h3 class="modal-title">이용 안내</h3>
                <button id="guideCloseBtn" class="modal-close">&times;</button>
            </div>
            <div class="modal-body guide-body">
                <div class="guide-section">
                    <h4>🤖 댄스 영상 분석이란?</h4>
                    <p>최신 모션 분석 엔진이 영상을 프레임 단위로 정밀하게 스캔하여 관절의 움직임을 분석합니다.</p>
                    <p>레퍼런스 댄서들의 데이터와 비교하여 <strong>동작의 정확성, 리듬감, 자세, 커넥션</strong> 등을 객관적으로 진단해 드립니다.</p>
                </div>
                <div class="guide-section">
                    <h4>🏆 레퍼런스 댄서란?</h4>
                    <p>분석 엔진 가이드 영상 소스로 수집된 각 장르별 <strong>월드 클래스 댄서</strong>들을 의미합니다.</p>
                    <p><strong>10점 만점은 이들의 수준</strong>을 의미하며, 여러분의 댄스가 그 기준에 얼마나 근접했는지를 상대적으로 평가합니다.</p>
                    <h5 class="reference-title">장르별 레퍼런스 댄서 목록</h5>
                    <ul class="reference-list">
                        <li><strong>살사</strong>: 테리 & 세실, 페르난도 소사, 아돌포 인다코체아, 에디 토레스</li>
                        <li><strong>바차타</strong>: 다니엘 & 데지레, 아타카 & 라 알레마나, 마르코 & 사라, 루이스 & 안드레아</li>
                        <li><strong>키좀바</strong>: 알비르 로하스, 이자벨 & 펠리시엔</li>
                        <li><strong>주크</strong>: 카두 & 라리사, 윌리엄 & 팔로마</li>
                    </ul>

                    <div class="guide-sub-text">
                        <span class="guide-icon">💡</span>
                        <div class="guide-content">
                            실망하지 마세요! 월드 클래스 댄서들과 비교하므로 점수가 상대적으로 낮게 나올 수 있습니다. 
                            <strong>6~7점만 되어도 국내 동호인 기준 꽤 높은 실력자입니다.</strong>
                        </div>
                    </div>
                </div>
                <div class="guide-section">
                    <h4>💡 이용 방법</h4>
                    <ol>
                        <li><strong>장르 선택</strong>: 살사, 바차타, 키좀바, 주크 중 선택</li>
                        <li><strong>유형 선택</strong>: 소셜(즐기는 춤) 또는 공연(무대) 선택</li>
                        <li><strong>영상 선택</strong>: 분석할 영상을 선택하거나 드래그 해서 추가해주세요</li>
                        <li><strong>분석 & 코칭</strong>: 버튼을 누르면 분석을 시작합니다 (최대 1~2분 소요)</li>
                    </ol>
                </div>
                <div class="guide-section">
                    <h4>⚠️ 권장 사항</h4>
                    <ul>
                        <li>댄서(또는 커플)의 전신이 잘 보이는 영상을 권장합니다.</li>
                        <li>유형선택 소셜의 경우 주변에 다른 댄서가 많으면 분석 정확도가 떨어질 수 있습니다.</li>
                        <li>너무 어둡거나 흔들림이 심한 영상은 분석이 어려울 수 있습니다.</li>
                        <li>배경 음악 없이 카운트만 있는 영상은 리듬 분석 정확도가 떨어질 수 있습니다.</li>
                        <li>파일 크기는 100MB 이하만 가능합니다. (카카오톡 전송 등으로 압축 권장)</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <script src="assets/js/custom-select.js?v=final5"></script>
    <script src="assets/js/analysis-bg.js"></script>
    <script>
        const ANALYSIS_CONFIG = {
            messages: {
                fileTooLarge: "파일 크기가 너무 큽니다 ({size} MB).\\n100MB 이하의 영상만 분석 가능합니다.\\n(카카오톡 등으로 압축 후 선택해주세요)",
                fileSelected: "선택된 파일",
                processTitle: "정밀 분석 프로세스 진행 중...",
                stepInit: "보안 연결 수립 및 데이터 전송 세션을<br>초기화하고 있습니다...",
                stepUpload: "분석 서버로 영상 데이터 전송 중...",
                uploadWarning: "(고화질 영상은 전송에 시간이 소요될 수 있습니다)",
                networkWarning: "(네트워크 환경에 따라 속도가 달라질 수 있습니다)",
                stepProcessing: "클라우드 서버에서 영상 전처리 및<br>데이터 최적화 작업을 수행 중입니다...",
                waitMessage: "잠시만 기다려주세요.",
                stepAnalyzing: "라틴댄스 모션 분석 엔진이 댄서의 관절 움직임과<br>리듬을 프레임 단위로 정밀 분석하고 있습니다...",
                analyzeTimeWarning: "(최대 1~2분 소요될 수 있습니다)",
                resultTitle: "정밀 분석 결과",
                errorTitle: "오류 발생",
                resultError: "분석 결과를 가져오지 못했습니다.",
                shareTitle: "라틴댄스 영상 분석",
                shareDesc: "내 라틴댄스 영상을 모션 분석 엔진이 분석해주는 서비스입니다. 지금 바로 체험해보세요!",
                shareBtn: "분석 결과 보기",
                copyNoResult: "복사할 분석 결과가 없습니다.",
                copySuccess: "분석 결과가 클립보드에 복사되었습니다!",
                copyFail: "결과 복사에 실패했습니다.",
                loadingShared: "공유된 분석 결과 불러오는 중...",
                resultTitleShared: "정밀 분석 결과 (공유됨)",
                loadSharedFail: "공유된 결과를 찾을 수 없거나 만료되었습니다."
            },
            generatePrompt: function(genre, type) {
                const overallScorePrompt = `- **종합 평점**: (위 세부 항목의 평균 점수. 예: "6.5점". *등급 기준 참고용: 10(월드 클래스), 9(최상급 프로), 8(프로 강사), 7(준프로/공연팀), 6(상급 동호인), 5(중상급 동호인), 4(중급 동호인), 3(초중급 동호인), 2(초급 동호인), 1(입문자)*)`;
                const onePointLessonPrompt = `- **원포인트 레슨**:\n                        - (가장 시급한 교정 사항 및 연습 방법)`;

                let referenceDancers = "월드 클래스 레벨의 댄서";
                let genreFocus = "동작의 정확성, 리듬감, 파트너와의 커넥션, 자세(Posture) 등을 중점적으로 봐주세요.";
                let analysisFormat = `
                    1. **총평**: 전체적인 댄스의 느낌, 음악 해석, 분위기
                    2. **남자 (Leader) 분석**:
                    - **장점**: (아래 세부 평점 항목들을 중심으로 구체적으로 서술)
                    - **단점 및 개선점**: (아래 세부 평점 항목들을 중심으로 구체적으로 서술)
                    - **세부 평점**:
                        - **박자 및 리듬**: (0~10, 소수점 첫째자리까지, 정박/엇박 및 리듬 유지)
                        - **자세 및 프레임**: (0~10, 소수점 첫째자리까지, 척추 정렬 및 견고함)
                        - **커넥션**: (0~10, 소수점 첫째자리까지, 텐션 및 반응)
                        - **동작 정확성**: (0~10, 소수점 첫째자리까지, 깔끔한 마무리)
                        - **예술성**: (0~10, 소수점 첫째자리까지, 표현력)
                        - **파트너쉽**: (0~10, 소수점 첫째자리까지, 호흡 및 배려)
                    ${overallScorePrompt}
                    ${onePointLessonPrompt}
                    3. **여자 (Follower) 분석**:
                    - **장점**: (아래 세부 평점 항목들을 중심으로 구체적으로 서술)
                    - **단점 및 개선점**: (아래 세부 평점 항목들을 중심으로 구체적으로 서술)
                    - **세부 평점**:
                        - **박자 및 리듬**: (0~10, 소수점 첫째자리까지, 정박/엇박 및 리듬 유지)
                        - **자세 및 프레임**: (0~10, 소수점 첫째자리까지, 척추 정렬 및 견고함)
                        - **커넥션**: (0~10, 소수점 첫째자리까지, 텐션 및 반응)
                        - **동작 정확성**: (0~10, 소수점 첫째자리까지, 깔끔한 마무리)
                        - **예술성**: (0~10, 소수점 첫째자리까지, 표현력)
                        - **파트너쉽**: (0~10, 소수점 첫째자리까지, 호흡 및 배려)
                    ${overallScorePrompt}
                    ${onePointLessonPrompt}`;

                if (genre === "Salsa") {
                    referenceDancers = "Terry & Cecile, Fernando Sosa, Adolfo Indacochea, Eddie Torres";
                    if (type === "Performance") {
                        genreFocus = "살사 공연(Performance)입니다. **'클라베 리듬'에 기반한 고난이도 턴 패턴, 화려한 풋웍(Shines), 그리고 리프트(Lifts)**가 중요합니다. 무대 위에서의 쇼맨십, 개인 스타일링, 그리고 칼 같은 싱크로율을 중점적으로 분석해주세요. 경고: 단순히 소셜 댄스 동작을 나열하는 것은 공연이 아닙니다. 소셜 댄스보다 훨씬 엄격한 기준을 적용하여, 월드 클래스 수준의 구성, 안무, 테크닉을 갖추었는지 냉정하게 평가해주세요. 특히 **리프트와 아크로바틱** 동작은 단순 시도가 아닌 **완벽한 안정성과 착지**가 동반되지 않으면 점수를 엄격하게 낮추세요.";
                        analysisFormat = `
                    1. **총평**: 작품의 컨셉, 안무 구성, 무대 장악력
                    2. **남자 (Leader) 퍼포먼스 분석**:
                    - **장점**: (아래 세부 평점 항목들을 중심으로 구체적으로 서술)
                    - **단점 및 개선점**: (아래 세부 평점 항목들을 중심으로 구체적으로 서술)
                    - **세부 평점**:
                        - **안무 숙련도 및 정확성**: (0~10, 소수점 첫째자리까지, 실수 없는 수행)
                        - **테크닉 (턴/스핀)**: (0~10, 소수점 첫째자리까지, 축 유지 및 속도)
                        - **풋웍 및 샤인 (Footwork & Shines)**: (0~10, 소수점 첫째자리까지, 빠르고 정확한 스텝)
                        - **파트너 서포트 및 리프트**: (0~10, 소수점 첫째자리까지, 안정성)
                        - **라인 및 포스쳐**: (0~10, 소수점 첫째자리까지, 신체 확장)
                        - **쇼맨십 및 스타일링**: (0~10, 소수점 첫째자리까지, 관객 호응 유도)
                        - **싱크로나이제이션**: (0~10, 소수점 첫째자리까지, 파트너와의 동작 일치도)
                    ${overallScorePrompt}
                    ${onePointLessonPrompt}
                    3. **여자 (Follower) 퍼포먼스 분석**:
                    - **장점**: (아래 세부 평점 항목들을 중심으로 구체적으로 서술)
                    - **단점 및 개선점**: (아래 세부 평점 항목들을 중심으로 구체적으로 서술)
                    - **세부 평점**:
                        - **안무 숙련도 및 정확성**: (0~10, 소수점 첫째자리까지, 실수 없는 수행)
                        - **테크닉 (턴/스핀/유연성)**: (0~10, 소수점 첫째자리까지, 축 유지 및 유연성)
                        - **풋웍 및 샤인 (Footwork & Shines)**: (0~10, 소수점 첫째자리까지, 빠르고 정확한 스텝)
                        - **라인 및 포스쳐**: (0~10, 소수점 첫째자리까지, 손끝/발끝)
                        - **쇼맨십 및 스타일링**: (0~10, 소수점 첫째자리까지, 관객 호응 유도)
                        - **뮤지컬리티 (안무 소화)**: (0~10, 소수점 첫째자리까지, 음악의 악센트 표현)
                        - **싱크로나이제이션**: (0~10, 소수점 첫째자리까지, 파트너와의 동작 일치도)
                    ${overallScorePrompt}
                    ${onePointLessonPrompt}`;
                    } else {
                        genreFocus = "살사는 **'클라베 리듬(Clave Rhythm)'에 맞는 정확한 스텝과 타이밍**이 생명입니다. 소셜 댄스 관점에서 파트너를 편안하게 리드하고 팔로우하는지, 서로의 안전을 지키며 즐겁게 댄스를 즐기는지를 중점적으로 분석해주세요.";
                        analysisFormat = `
                    1. **총평**: 살사 특유의 에너지, 클라베 리듬감, 파트너와의 호흡
                    2. **남자 (Leader) 분석**:
                    - **장점**: (아래 세부 평점 항목들을 중심으로 구체적으로 서술)
                    - **단점 및 개선점**: (아래 세부 평점 항목들을 중심으로 구체적으로 서술)
                    - **세부 평점**:
                        - **타이밍 (Timing)**: (0~10, 소수점 첫째자리까지, 클라베 리듬 준수)
                        - **리딩 및 신호 (Leading & Signals)**: (0~10, 소수점 첫째자리까지, 명확성 및 텐션)
                        - **베이직 및 스텝 (Basic & Steps)**: (0~10, 소수점 첫째자리까지, 안정성)
                        - **패턴 구성 (Pattern Flow)**: (0~10, 소수점 첫째자리까지, 흐름의 자연스러움)
                        - **뮤지컬리티 (Musicality)**: (0~10, 소수점 첫째자리까지, 음악 해석)
                        - **파트너쉽 및 매너 (Partnership & Manner)**: (0~10, 소수점 첫째자리까지, 시선 처리 및 배려)
                        - **플로어 크래프트 (Floorcraft)**: (0~10, 소수점 첫째자리까지, 충돌 방지 및 공간 확보)
                    ${overallScorePrompt}
                    ${onePointLessonPrompt}
                    3. **여자 (Follower) 분석**:
                    - **장점**: (아래 세부 평점 항목들을 중심으로 구체적으로 서술)
                    - **단점 및 개선점**: (아래 세부 평점 항목들을 중심으로 구체적으로 서술)
                    - **세부 평점**:
                        - **타이밍 (Timing)**: (0~10, 소수점 첫째자리까지, 박자 유지)
                        - **팔로잉 및 텐션 (Following & Tension)**: (0~10, 소수점 첫째자리까지, 반응 속도 및 커넥션)
                        - **베이직 및 스텝 (Basic & Steps)**: (0~10, 소수점 첫째자리까지, 안정성)
                        - **자세 및 밸런스 (Posture & Balance)**: (0~10, 소수점 첫째자리까지, 턴 안정성)
                        - **파트너쉽 및 호응 (Partnership & Interaction)**: (0~10, 소수점 첫째자리까지, 즐거움 및 시선)
                        - **플로어 크래프트 (Floorcraft)**: (0~10, 소수점 첫째자리까지, 충돌 방지 및 공간 확보)
                    ${overallScorePrompt}
                    ${onePointLessonPrompt}`;
                    }
                }
                else if (genre === "Bachata") {
                    referenceDancers = "Daniel & Desiree, Ataca & La Alemana, Marco & Sara, Luis & Andrea";
                    if (type === "Performance") {
                        genreFocus = "바차타 공연(Performance)입니다. **'센슈얼한 바디 무브먼트', '개인 스타일링', 그리고 '드라마틱한 뮤지컬리티'**가 중요합니다. 감정 표현, 유연성, 그리고 고난이도 딥(Dips)과 트릭(Tricks)의 완성도를 중점적으로 분석해주세요. 경고: 단순히 소셜 댄스 동작을 나열하는 것은 공연이 아닙니다. 소셜 댄스보다 훨씬 엄격한 기준을 적용하여, 월드 클래스 수준의 구성, 안무, 테크닉을 갖추었는지 냉정하게 평가해주세요. **트릭과 리프트**는 **안전성과 연결성**이 완벽하지 않으면 감점 요인이 됩니다.";
                        analysisFormat = `
                    1. **총평**: 작품의 컨셉, 안무 구성, 무대 장악력
                    2. **남자 (Leader) 퍼포먼스 분석**:
                    - **장점**: (아래 세부 평점 항목들을 중심으로 구체적으로 서술)
                    - **단점 및 개선점**: (아래 세부 평점 항목들을 중심으로 구체적으로 서술)
                    - **세부 평점**:
                        - **안무 숙련도 및 정확성**: (0~10, 소수점 첫째자리까지, 흐름의 끊김 없음)
                        - **테크닉 (바디 무브먼트/아이솔레이션)**: (0~10, 소수점 첫째자리까지, 유연성 및 가동 범위)
                        - **파트너 서포트 및 트릭**: (0~10, 소수점 첫째자리까지, 안정성)
                        - **라인 및 포스쳐**: (0~10, 소수점 첫째자리까지, 신체 확장)
                        - **쇼맨십 및 스타일링**: (0~10, 소수점 첫째자리까지, 감정 전달)
                        - **뮤지컬리티 (안무 소화)**: (0~10, 소수점 첫째자리까지, 가사 및 비트 표현)
                        - **트랜지션 (Transitions)**: (0~10, 소수점 첫째자리까지, 동작 연결의 매끄러움)
                    ${overallScorePrompt}
                    ${onePointLessonPrompt}
                    3. **여자 (Follower) 퍼포먼스 분석**:
                    - **장점**: (아래 세부 평점 항목들을 중심으로 구체적으로 서술)
                    - **단점 및 개선점**: (아래 세부 평점 항목들을 중심으로 구체적으로 서술)
                    - **세부 평점**:
                        - **안무 숙련도 및 정확성**: (0~10, 소수점 첫째자리까지, 흐름의 끊김 없음)
                        - **테크닉 (바디 무브먼트/유연성)**: (0~10, 소수점 첫째자리까지, 유연성 및 가동 범위)
                        - **라인 및 포스쳐**: (0~10, 소수점 첫째자리까지, 손끝/발끝)
                        - **밸런스 및 코어**: (0~10, 소수점 첫째자리까지, 중심 이동)
                        - **쇼맨십 및 스타일링**: (0~10, 소수점 첫째자리까지, 감정 전달)
                        - **뮤지컬리티 (안무 소화)**: (0~10, 소수점 첫째자리까지, 가사 및 비트 표현)
                        - **트랜지션 (Transitions)**: (0~10, 소수점 첫째자리까지, 동작 연결의 매끄러움)
                    ${overallScorePrompt}
                    ${onePointLessonPrompt}`;
                    } else {
                        genreFocus = "바차타는 **'센슈얼한 바디 무브먼트'와 '골반 움직임(Cuban Motion)'**이 중요합니다. 소셜 댄스에서는 파트너 간의 적절한 거리 유지, 안전한 리딩, 그리고 서로의 감정을 공유하는 커넥션이 핵심입니다.";
                        analysisFormat = `
                    1. **총평**: 바차타의 센슈얼한 느낌, 뮤지컬리티, 커넥션의 질감
                    2. **남자 (Leader) 분석**:
                    - **장점**: (아래 세부 평점 항목들을 중심으로 구체적으로 서술)
                    - **단점 및 개선점**: (아래 세부 평점 항목들을 중심으로 구체적으로 서술)
                    - **세부 평점**:
                        - **베이직 및 리듬 (Basic & Rhythm)**: (0~10, 소수점 첫째자리까지, 정박/엇박)
                        - **프레임 및 자세 (Frame & Posture)**: (0~10, 소수점 첫째자리까지, 안정적인 홀딩)
                        - **리딩 및 커넥션 (Leading & Connection)**: (0~10, 소수점 첫째자리까지, 부드러움 및 신호)
                        - **바디 무브먼트 (Body Movement)**: (0~10, 소수점 첫째자리까지, 웨이브/아이솔레이션)
                        - **뮤지컬리티 (Musicality)**: (0~10, 소수점 첫째자리까지, 감정 표현 및 브레이크)
                        - **파트너쉽 및 안전 (Partnership & Safety)**: (0~10, 소수점 첫째자리까지, 거리 조절 및 부상 방지)
                        - **거리 조절 (Distance Control)**: (0~10, 소수점 첫째자리까지, 포지션 전환의 적절성)
                    ${overallScorePrompt}
                    ${onePointLessonPrompt}
                    3. **여자 (Follower) 분석**:
                    - **장점**: (아래 세부 평점 항목들을 중심으로 구체적으로 서술)
                    - **단점 및 개선점**: (아래 세부 평점 항목들을 중심으로 구체적으로 서술)
                    - **세부 평점**:
                        - **베이직 및 리듬 (Basic & Rhythm)**: (0~10, 소수점 첫째자리까지, 스텝 정확성)
                        - **프레임 및 커넥션 (Frame & Connection)**: (0~10, 소수점 첫째자리까지, 텐션 유지)
                        - **팔로잉 (Following)**: (0~10, 소수점 첫째자리까지, 리드 수용성 및 반응)
                        - **바디 무브먼트 (Body Movement)**: (0~10, 소수점 첫째자리까지, 유연성 및 골반)
                        - **파트너쉽 및 교감 (Partnership & Chemistry)**: (0~10, 소수점 첫째자리까지, 감정 공유)
                        - **거리 조절 (Distance Control)**: (0~10, 소수점 첫째자리까지, 포지션 전환의 적절성)
                    ${overallScorePrompt}
                    ${onePointLessonPrompt}`;
                    }
                }
                else if (genre === "Kizomba") {
                    referenceDancers = "Albir Rojas, Isabelle & Felicien";
                    if (type === "Performance") {
                        genreFocus = "키좀바 공연(Performance)입니다. **'디소시에이션(Dissociation)'과 '현란한 풋웍(Footwork)'**이 중요합니다. 무대 위에서의 절제된 움직임 속의 강렬함, 파트너와의 완벽한 일체감, 그리고 음악의 미세한 비트까지 표현하는 뮤지컬리티를 중점적으로 분석해주세요. 경고: 단순히 소셜 댄스 동작을 나열하는 것은 공연이 아닙니다. 소셜 댄스보다 훨씬 엄격한 기준을 적용하여, 월드 클래스 수준의 구성, 안무, 테크닉을 갖추었는지 냉정하게 평가해주세요.";
                        analysisFormat = `
                    1. **총평**: 작품의 컨셉, 안무 구성, 무대 장악력
                    2. **남자 (Leader) 퍼포먼스 분석**:
                    - **장점**: (아래 세부 평점 항목들을 중심으로 구체적으로 서술)
                    - **단점 및 개선점**: (아래 세부 평점 항목들을 중심으로 구체적으로 서술)
                    - **세부 평점**:
                        - **안무 숙련도 및 정확성**: (0~10, 소수점 첫째자리까지, 완벽한 합)
                        - **테크닉 (디소시에이션)**: (0~10, 소수점 첫째자리까지, 상하체 분리)
                        - **풋웍 (Footwork)**: (0~10, 소수점 첫째자리까지, 사이다 및 싱코페이션)
                        - **파트너 서포트 및 리딩**: (0~10, 소수점 첫째자리까지, 안정성)
                        - **라인 및 포스쳐**: (0~10, 소수점 첫째자리까지, 신체 확장)
                        - **쇼맨십 및 분위기**: (0~10, 소수점 첫째자리까지, 몰입감)
                        - **뮤지컬리티 (비트 쪼개기)**: (0~10, 소수점 첫째자리까지, 마이크로 비트 표현)
                        - **고요함 (Stillness)**: (0~10, 소수점 첫째자리까지, 흔들림 없는 코어)
                    ${overallScorePrompt}
                    ${onePointLessonPrompt}
                    3. **여자 (Follower) 퍼포먼스 분석**:
                    - **장점**: (아래 세부 평점 항목들을 중심으로 구체적으로 서술)
                    - **단점 및 개선점**: (아래 세부 평점 항목들을 중심으로 구체적으로 서술)
                    - **세부 평점**:
                        - **안무 숙련도 및 정확성**: (0~10, 소수점 첫째자리까지, 완벽한 합)
                        - **테크닉 (징가/디소시에이션)**: (0~10, 소수점 첫째자리까지, 상하체 분리)
                        - **풋웍 (Footwork)**: (0~10, 소수점 첫째자리까지, 사이다 및 싱코페이션)
                        - **라인 및 포스쳐**: (0~10, 소수점 첫째자리까지, 손끝/발끝)
                        - **밸런스 및 코어**: (0~10, 소수점 첫째자리까지, 중심 이동)
                        - **쇼맨십 및 분위기**: (0~10, 소수점 첫째자리까지, 몰입감)
                        - **뮤지컬리티 (비트 쪼개기)**: (0~10, 소수점 첫째자리까지, 마이크로 비트 표현)
                        - **정지 동작 (Stillness)**: (0~10, 소수점 첫째자리까지, 흔들림 없는 코어)
                    ${overallScorePrompt}
                    ${onePointLessonPrompt}`;
                    } else {
                        genreFocus = "키좀바는 **'그라운딩(Grounding)'과 '부드러운 체중 이동'**이 핵심입니다. 소셜 댄스에서는 상체의 편안한 밀착(Embrace), 파트너를 배려하는 보폭 조절, 그리고 음악 속에서의 일체감이 중요합니다.";
                        analysisFormat = `
                    1. **총평**: 키좀바 특유의 그라운딩, 커넥션의 밀도, 음악과의 일체감
                    2. **남자 (Leader) 분석**:
                    - **장점**: (아래 세부 평점 항목들을 중심으로 구체적으로 서술)
                    - **단점 및 개선점**: (아래 세부 평점 항목들을 중심으로 구체적으로 서술)
                    - **세부 평점**:
                        - **그라운딩 및 스텝 (Grounding & Steps)**: (0~10, 소수점 첫째자리까지, 바닥 지지)
                        - **커넥션 및 홀딩 (Connection & Holding)**: (0~10, 소수점 첫째자리까지, 상체 밀착 및 편안함)
                        - **리딩 (Leading)**: (0~10, 소수점 첫째자리까지, 명확한 체중 이동)
                        - **뮤지컬리티 (Musicality)**: (0~10, 소수점 첫째자리까지, 비트 쪼개기 및 정지)
                        - **디소시에이션 (Dissociation)**: (0~10, 소수점 첫째자리까지, 상하체 분리)
                        - **파트너쉽 및 배려 (Partnership & Care)**: (0~10, 소수점 첫째자리까지, 파트너 보폭 맞춤)
                        - **보폭 조절 (Step Size Control)**: (0~10, 소수점 첫째자리까지, 파트너 맞춤형 스텝)
                    ${overallScorePrompt}
                    ${onePointLessonPrompt}
                    3. **여자 (Follower) 분석**:
                    - **장점**: (아래 세부 평점 항목들을 중심으로 구체적으로 서술)
                    - **단점 및 개선점**: (아래 세부 평점 항목들을 중심으로 구체적으로 서술)
                    - **세부 평점**:
                        - **그라운딩 및 스텝 (Grounding & Steps)**: (0~10, 소수점 첫째자리까지, 안정감)
                        - **커넥션 및 홀딩 (Connection & Holding)**: (0~10, 소수점 첫째자리까지, 무게감 조절)
                        - **팔로잉 (Following)**: (0~10, 소수점 첫째자리까지, 미세한 체중 이동 감지)
                        - **징가 및 무브먼트 (Ginga & Movement)**: (0~10, 소수점 첫째자리까지, 골반 움직임)
                        - **뮤지컬리티 (Musicality)**: (0~10, 소수점 첫째자리까지, 음악 타기)
                        - **파트너쉽 및 신뢰 (Partnership & Trust)**: (0~10, 소수점 첫째자리까지, 리더에게 맡김)
                        - **보폭 조절 (Step Size Control)**: (0~10, 소수점 첫째자리까지, 파트너 맞춤형 스텝)
                    ${overallScorePrompt}
                    ${onePointLessonPrompt}`;
                    }
                }
                else if (genre === "Zouk") {
                    referenceDancers = "Kadu & Larissa, William & Paloma";
                    if (type === "Performance") {
                        genreFocus = "주크 공연(Performance)입니다. **'헤드 무브먼트', '개인 스타일링', 그리고 '다이내믹한 플로우'**가 중요합니다. 무대 위에서의 극적인 라인, 카운터 밸런스, 리프트, 그리고 음악의 기승전결을 표현하는 스토리텔링을 중점적으로 분석해주세요. 경고: 단순히 소셜 댄스 동작을 나열하는 것은 공연이 아닙니다. 소셜 댄스보다 훨씬 엄격한 기준을 적용하여, 월드 클래스 수준의 구성, 안무, 테크닉을 갖추었는지 냉정하게 평가해주세요. **리프트와 아크로바틱** 동작은 **안정성**이 조금이라도 부족하면 엄격하게 평가하세요.";
                        analysisFormat = `
                    1. **총평**: 작품의 컨셉, 안무 구성, 무대 장악력
                    2. **남자 (Leader) 퍼포먼스 분석**:
                    - **장점**: (아래 세부 평점 항목들을 중심으로 구체적으로 서술)
                    - **단점 및 개선점**: (아래 세부 평점 항목들을 중심으로 구체적으로 서술)
                    - **세부 평점**:
                        - **안무 숙련도 및 정확성**: (0~10, 소수점 첫째자리까지, 스토리텔링)
                        - **테크닉 (헤드 리딩/카운터 밸런스)**: (0~10, 소수점 첫째자리까지, 안전하고 큰 동작)
                        - **파트너 서포트 및 리프트**: (0~10, 소수점 첫째자리까지, 안정성)
                        - **라인 및 포스쳐**: (0~10, 소수점 첫째자리까지, 신체 확장)
                        - **쇼맨십 및 스타일링**: (0~10, 소수점 첫째자리까지, 헤어 무브먼트 및 라인)
                        - **뮤지컬리티 (다이내믹)**: (0~10, 소수점 첫째자리까지, 기승전결)
                        - **유동성 (Fluidity)**: (0~10, 소수점 첫째자리까지, 끊김 없는 흐름)
                    ${overallScorePrompt}
                    ${onePointLessonPrompt}
                    3. **여자 (Follower) 퍼포먼스 분석**:
                    - **장점**: (아래 세부 평점 항목들을 중심으로 구체적으로 서술)
                    - **단점 및 개선점**: (아래 세부 평점 항목들을 중심으로 구체적으로 서술)
                    - **세부 평점**:
                        - **안무 숙련도 및 정확성**: (0~10, 소수점 첫째자리까지, 스토리텔링)
                        - **테크닉 (헤드 무브먼트/캠브레)**: (0~10, 소수점 첫째자리까지, 안전하고 큰 동작)
                        - **라인 및 포스쳐**: (0~10, 소수점 첫째자리까지, 손끝/발끝)
                        - **밸런스 및 코어**: (0~10, 소수점 첫째자리까지, 중심 이동)
                        - **쇼맨십 및 스타일링**: (0~10, 소수점 첫째자리까지, 헤어 무브먼트 및 라인)
                        - **뮤지컬리티 (다이내믹)**: (0~10, 소수점 첫째자리까지, 기승전결)
                        - **유동성 (Fluidity)**: (0~10, 소수점 첫째자리까지, 끊김 없는 흐름)
                    ${overallScorePrompt}
                    ${onePointLessonPrompt}`;
                    } else {
                        genreFocus = "주크는 **'헤드 무브먼트'와 '플로우(Flow)'**가 특징입니다. 소셜 댄스에서는 특히 헤드 무브먼트 시 파트너의 목과 허리를 보호하는 안전한 리딩과, 끊어지지 않는 물 흐르는 듯한 연결성이 최우선입니다.";
                        analysisFormat = `
                    1. **총평**: 주크의 플로우, 헤드 무브먼트의 자연스러움, 다이내믹
                    2. **남자 (Leader) 분석**:
                    - **장점**: (아래 세부 평점 항목들을 중심으로 구체적으로 서술)
                    - **단점 및 개선점**: (아래 세부 평점 항목들을 중심으로 구체적으로 서술)
                    - **세부 평점**:
                        - **베이직 및 리듬 (Basic & Rhythm)**: (0~10, 소수점 첫째자리까지, 스텝)
                        - **커넥션 및 프레임 (Connection & Frame)**: (0~10, 소수점 첫째자리까지, 탄력성)
                        - **리딩 및 플로우 (Leading & Flow)**: (0~10, 소수점 첫째자리까지, 연결성 및 부드러움)
                        - **헤드 무브먼트 리딩 (Head Movement Leading)**: (0~10, 소수점 첫째자리까지, 안전한 가이드)
                        - **다이내믹 (Dynamics)**: (0~10, 소수점 첫째자리까지, 강약 조절)
                        - **파트너쉽 및 안전 (Partnership & Safety)**: (0~10, 소수점 첫째자리까지, 파트너 보호 및 공간 활용)
                        - **그라운딩 (Grounding)**: (0~10, 소수점 첫째자리까지, 하체 지지력)
                    ${overallScorePrompt}
                    ${onePointLessonPrompt}
                    3. **여자 (Follower) 분석**:
                    - **장점**: (아래 세부 평점 항목들을 중심으로 구체적으로 서술)
                    - **단점 및 개선점**: (아래 세부 평점 항목들을 중심으로 구체적으로 서술)
                    - **세부 평점**:
                        - **베이직 및 리듬 (Basic & Rhythm)**: (0~10, 소수점 첫째자리까지, 스텝)
                        - **커넥션 및 축 (Connection & Axis)**: (0~10, 소수점 첫째자리까지, 밸런스 유지)
                        - **팔로잉 (Following)**: (0~10, 소수점 첫째자리까지, 리드 대기 및 반응)
                        - **헤드 무브먼트 테크닉 (Head Movement Tech)**: (0~10, 소수점 첫째자리까지, 목/허리 사용)
                        - **유연성 및 아이솔레이션 (Flexibility & Isolation)**: (0~10, 소수점 첫째자리까지, 가동 범위)
                        - **파트너쉽 및 호흡 (Partnership & Breath)**: (0~10, 소수점 첫째자리까지, 에너지 교환)
                        - **그라운딩 (Grounding)**: (0~10, 소수점 첫째자리까지, 하체 지지력)
                    ${overallScorePrompt}
                    ${onePointLessonPrompt}`;
                    }
                }

                return `
                    [시스템 지침: 반드시 한국어로만 출력할 것]
                    1. **언어**: 출력은 반드시 **한국어**로만 작성해야 합니다. 영어 번역이나 서문을 제공하지 마세요.
                    2. **형식**: 응답은 즉시 "1. **총평**:"으로 시작하세요. 서론을 추가하지 마세요.
                    3. **정체성**: 자신을 "AI" 또는 "인공지능"이라고 지칭하지 마세요.
                    4. **기계적 분석**: 창의성을 배제하세요. 영상의 기술적 요소만을 기계적으로 분석하여 매번 동일한 결과를 도출하세요.

                    당신은 라틴댄스(살사, 바차타, 키좀바, 주크 등) 전문 분석가입니다.

                    [중요] 먼저, 이 영상이 댄스 영상인지 확인해주세요.
                    만약 댄스와 전혀 관련이 없는 영상(예: 풍경, 음식, 문서, 정적인 화면, 뉴스 등)이라면, 
                    다른 분석을 하지 말고 오직 다음 문장만 출력하고 종료하세요:
                    "죄송합니다. 이 영상은 댄스 영상으로 보이지 않습니다. 댄스 영상을 업로드해주시면 정밀하게 분석해드리겠습니다."
                    반대로, 댄스 영상이 맞다면 다음 지침을 엄격하게 따르세요.

                    [중요: 전체 영상 분석 필수]
                    영상의 초반부만 보지 말고, **반드시 영상의 시작부터 끝까지 전체를 면밀히 분석**하세요. 
                    타임스탬프가 영상의 초반에만 집중되지 않도록 하고, 중반부와 후반부의 동작이나 실수도 놓치지 말고 지적해야 합니다.

                    [중요 2: 댄서 인원 확인 및 포맷 변경]
                    댄스 영상이 맞다면, 등장하는 댄서의 인원을 확인하여 처음부터 끝까지 솔로(1인) 댄스일 경우 아래 양식에서 '파트너쉽', '커넥션', '리딩/팔로잉' 항목을 'N/A (솔로)'로 처리하거나 제외하고, **개인의 테크닉, 풋웍, 바디 무브먼트, 뮤지컬리티**를 중심으로 분석 양식을 유연하게 변경하여 출력하세요.

                    댄스 영상이 맞다면, 이 영상은 ${genre || "라틴 댄스"} 장르의 ${type || "영상"}입니다.
                    전문가의 시각으로 이 영상의 고유한 특징을 포착하여 정밀하게 분석해주세요.

                    [10점 만점의 기준 및 비교 방법]
                    10점은 해당 장르의 월드 탑클래스 실력의 댄서(${referenceDancers}) 수준을 의미합니다.
                    이 월드 탑클래스 실력의 댄서들의 **자세(Posture), 텐션(Connection), 뮤지컬리티(Musicality), 동작의 정확성** 데이터를 기준으로, 
                    업로드된 영상의 댄서들을 상대적으로 평가해주세요.
                    **일관성 필수**: 동일한 영상에 대해서는 0.1점의 오차도 없이 항상 똑같은 점수를 부여해야 합니다. 창의성을 배제하고 기계적으로 채점하세요.
                    **[평가 기준: 동작의 난이도보다는 '완성도'를 최우선으로 평가하세요]**
                    **경고: 노래방 점수처럼 단순히 화려한 동작을 많이 넣었다고 해서 점수를 높게 주지 마세요.**
                    어려운 동작을 시도했더라도 자세나 타이밍이 부정확하다면, 기본 동작을 완벽하게 수행한 것보다 **확실히 낮은 점수**를 부여해야 합니다.
                    '동작의 개수'가 아니라 '동작의 질'을 평가하세요.
                    특히, 크고 화려한 동작에서 자세나 타이밍이 무너진다면, 기본적인 동작을 실수했을 때보다 더 큰 감점을 적용하세요.

                    **[점수 분포 주의사항 - 매우 엄격하게 적용]**
                    **경고: 점수 인플레이션을 절대 허용하지 마세요. 일반적인 동호인에게 7점 이상을 주는 것은 매우 드문 일이어야 합니다.**
                    - 9~10점: 월드 클래스 챔피언 수준
                    - 7~8점: 프로 강사 및 최상급 댄서 수준
                    - 5~6점: 경력이 오래된 상급 동호인 수준
                    - 3~4점: 일반적인 중급 동호인 수준
                    - 1~2점: 초보자 및 입문자 수준
                    초보자나 입문자 수준의 댄서에게는 과감하게 1~4점대의 낮은 점수를 부여하세요.
                    5점은 '중상급 동호인' 수준으로, 상당한 경력과 실력을 갖춘 댄서에게만 부여되어야 합니다.
                    점수 인플레이션을 방지하고, 냉정한 평가를 내려주세요.

                    [분석 시 필수 요청 사항]
                    1. **타임스탬프 활용**: 구체적인 피드백이 필요한 경우, 반드시 해당 동작이 발생한 영상의 시간(예: [01:15])을 명시하여 근거를 제시하세요.
                    2. **시각적 증거 기반**: '느낌'이 아니라 '프레임의 붕괴', '박자 밀림', '불안정한 착지' 등 영상에서 확인 가능한 시각적 증거를 기반으로 분석하세요.
                    3. **냉정한 점수**: 사용자가 기분 좋아하기 위한 칭찬보다는, 실력 향상을 위한 냉철한 분석이 목적입니다. 기준(Reference Dancers)에 미치지 못하면 과감하게 낮은 점수를 주세요.
                    4. **분석 불가능한 환경 대처:
                            발(Footwork)이 화면 밖으로 나간 경우: '하체 분석 불가' 명시 및 점수 제외
                            영상이 너무 어둡거나 흐린 경우: '화질 개선 필요' 메시지 출력
                            정면이 아닌 특정 각도에서만 촬영된 경우 분석의 한계점을 서두에 명시할 것
                    5. **오디오 및 리듬 분석 우선순위** : 
                        1단계: 오디오 상태 확인. 음악이 명확히 들리는지 확인하세요.
                        2단계 (양호함): 음악이 잘 들린다면, 댄서의 스텝이 비트에 정확히 맞는지(On-beat), 밀리거나(Lagging) 당겨지는지(Rushing) 엄격히 타임스탬프와 함께 지적하세요.
                        3단계 (불량함): 소음이 심하거나 음악이 안 들리면, 리듬/뮤지컬리티 항목은 억지로 평가하지 말고 'N/A (오디오 판독 불가)'로 처리하세요. 단, 동작의 흐름(Flow)은 평가해야 합니다.
                    6. 예외적 상황 알림: 영상 품질(조도, 화각, 해상도 등)로 인해 특정 신체 부위의 동작 분석이 불가능할 경우, 추측하지 말고 해당 항목을 '판단 보류'로 처리하고 사용자에게 촬영 개선 권고를 하세요.
                    
                    [출력 형식 준수 사항]
                    1. **언어**: 모든 분석 내용은 반드시 **한국어(Korean)**로 작성하세요. (단, 전문 용어는 영어 병기 가능)
                    2. **형식**: 서론, 인사말, "Here is the analysis" 같은 문구를 **절대** 포함하지 마세요.
                    3. **시작**: 바로 "1. **총평**:"으로 시작해야 합니다.
                    4. **마크다운**: 마크다운(Markdown) 형식을 사용하여 가독성을 높여주세요.
                    5. **용어**: 결과 내용에 "AI", "인공지능" 등의 단어를 사용하여 자신을 지칭하지 마세요.

                    ${analysisFormat}
                    
                    [장르별 중점 평가 항목: ${genre}]
                    ${genreFocus}

                    [중요]
                    어떠한 영어 메타데이터, 문맥 설명, 추론 과정도 출력하지 마십시오.
                    `.trim();
            }
        };
    </script>
    <script src="assets/js/analysis.js"></script>
</body>
</html>